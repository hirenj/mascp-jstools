<html>
<head>
<script src="dist/js/mascp-jstools.js"></script>
</head>
<body>
	<div id="container" style="postion: relative; width: 100%; height: 400px;"></div>
	<script>
		MASCP.ready = function() {
			var renderer = new MASCP.CondensedSequenceRenderer(document.getElementById('container'));
			MASCP.Service.BeginCaching();
			// (new MASCP.UniprotReader()).retrieve('q14118',function() {
			// 	renderer.setSequence(this.result.getSequence());
			// });
			renderer.refresh();
			renderer.grow_container = false;
			window.the_rend = renderer;
			window.doGenome();
		};
		window.doGenome = function() {
			var reader = new MASCP.GenomeReader();
			reader.registerSequenceRenderer(the_rend);
			//p12830
			var up = 'P02768';
			reader.retrieve(up,function(err) {
				the_rend.zoom = 0.01;

	            var proxy_reader = {
	                agi: up,
	                gotResult: function() {
	                    // the_rend.getAA(100).addToLayer(up,1,{'fill' : '#000'});
	                    the_rend.getAA(1).addToLayer(up,1,{'fill' : '#000'});
	                    // the_rend.getAA(200).addToLayer(up,1,{'fill' : '#000'});
	                }
	            };
	            MASCP.Service.prototype.registerSequenceRenderer.call(proxy_reader,the_rend);
	            proxy_reader.gotResult();


			});

		};
	</script>
</body>
</html>